<div class="bg-yellow-900 py-1 px-4">
  <div
    class="flex flex-col md:flex-row justify-between items-center gap-2 md:gap-4 w-full max-w-7xl mx-auto"
  >
    <span class="text-[10px] md:text-xs text-gray-600 text-center md:text-left">
      JackFruit Foundation is registered as FigHaven Foundation in Kenya
    </span>
    <div class="flex gap-2 md:gap-4">
      <a
        href="https://www.jackfruitfinance.com/"
        target="_blank"
        class="text-black hover:text-blue-200 transition-colors flex items-center gap-1 group text-[10px] md:text-sm"
        >Jackfruit Finance
        <i
          class="bx bx-link-external text-[8px] md:text-xs group-hover:translate-x-0.5 transition-transform"
        ></i>
        <span class="sr-only">(opens in new tab)</span>
      </a>
      <a
        href="https://www.jackfruithub.com"
        target="_blank"
        class="text-black hover:text-blue-200 transition-colors flex items-center gap-1 group text-[10px] md:text-sm"
        >Jackfruit Hub
        <i
          class="bx bx-link-external text-[8px] md:text-xs group-hover:translate-x-0.5 transition-transform"
        ></i>
        <span class="sr-only">(opens in new tab)</span>
      </a>
    </div>
  </div>
</div>
<div
  class="w-full md:w-3/4 h-16 my-8 flex items-center justify-between relative mx-auto"
>
  <!-- Logo and Navigation Links -->
  <div
    class="flex flex-col items-center justify-center cursor-pointer pl-2 md:pl-4"
    [routerLink]="'/'"
  >
    <div class="flex items-center">
      <img
        src="assets/images/logos/jf-logo.png"
        alt="Logo"
        class="h-16 w-16 md:h-28 md:w-28"
      />
      <div class="flex flex-col items-start md:items-start ml-0 md:ml-0">
        <span class="font-sans text-lg md:text-xl font-black text-black"
          >JACKFRUIT</span
        >
        <span class="font-sans text-xs md:text-sm font-black text-blue"
          >FOUNDATION</span
        >
      </div>
    </div>
  </div>

  <!-- Mobile Menu Button -->
  <div class="block md:hidden">
    <button class="text-dark-blue focus:outline-none" (click)="toggleMenu()">
      <!-- Hamburger Icon -->
      <i class="bx bx-menu bx-md"></i>
    </button>
  </div>

  <!-- Menu Links -->
  <div
    class="hidden md:flex items-center gap-6 px-2"
    [ngClass]="{ block: isMenuOpen, hidden: !isMenuOpen }"
  >
    <!-- Home Menu -->
    <span
      class="flex flex-col justify-between text-dark-blue text-base tracking-normal cursor-pointer md:h-16"
      (click)="goTo('home')"
    >
      <span></span>
      <span
        class="text-sm font-semibold leading-5 tracking-normal"
        [ngClass]="{ 'text-black': isActive('/home') }"
        >Home</span
      >
      <!-- Conditional Bottom Border -->
      <span
        class="self-stretch border-b-2 rounded-r rounded-l border-transparent w-3/5 group-hover:border-dark-blue"
        [ngClass]="{ 'custom-active': isActive('/home') }"
      ></span>
    </span>

    <span
      class="flex flex-col justify-between text-base text-dark-blue tracking-normal cursor-pointer md:h-16"
      (click)="goTo('our-impact')"
    >
      <span></span>
      <span class="text-sm font-semibold leading-5 tracking-normal"
        >Our Impact</span
      >
      <span
        class="self-stretch border-b-2 rounded-r rounded-l border-transparent w-2/5 group-hover:border-dark-blue"
        [ngClass]="{ 'custom-active': isActive('/our-impact') }"
      ></span>
    </span>

    <!-- <span
      class="flex flex-col justify-between text-base text-dark-blue tracking-normal cursor-pointer md:h-16"
      (click)="goTo('our-partners')"
    >
      <span></span>
      <span class="text-sm font-semibold leading-5 tracking-normal"
        >Our Partners</span
      >
      <span
        class="self-stretch border-b-2 rounded-r rounded-l border-transparent w-2/5 group-hover:border-dark-blue"
        [ngClass]="{ 'custom-active': isActive('/our-partners') }"
      ></span>
    </span> -->

    <span
      class="flex flex-col justify-between text-base text-dark-blue tracking-normal cursor-pointer md:h-16"
      (click)="goTo('case-studies')"
    >
      <span></span>
      <span class="text-sm font-semibold leading-5 tracking-normal"
        >Case Studies</span
      >
      <span
        class="self-stretch border-b-2 rounded-r rounded-l border-transparent w-2/5 group-hover:border-dark-blue"
        [ngClass]="{ 'custom-active': isActive('/case-studies') }"
      ></span>
    </span>

    <span
      class="flex flex-col justify-between text-base text-dark-blue tracking-normal cursor-pointer md:h-16"
      (click)="goTo('newsletter')"
    >
      <span></span>
      <span class="text-sm font-semibold leading-5 tracking-normal"
        >News Letters</span
      >
      <span
        class="self-stretch border-b-2 rounded-r rounded-l border-transparent w-2/5 group-hover:border-dark-blue"
        [ngClass]="{ 'custom-active': isActive('/newsletter') }"
      ></span>
    </span>

    <!-- About Us -->
    <span
      class="flex flex-col justify-between text-base text-dark-blue tracking-normal cursor-pointer md:h-16"
      (click)="goTo('about-us')"
    >
      <span></span>
      <span class="text-sm font-semibold leading-5 tracking-normal"
        >About Us</span
      >
      <span
        class="self-stretch border-b-2 rounded-r rounded-l border-transparent w-2/5 group-hover:border-dark-blue"
        [ngClass]="{ 'custom-active': isActive('/about-us') }"
      ></span>
    </span>
    <!-- https://classroom.google.com/c/NzQ4MzU3Njk4Mzk1 -->

    <!-- Programs Menu with Dropdown -->
    <!-- <span
      class="flex flex-col justify-between text-base text-dark-blue tracking-normal cursor-pointer md:h-16 relative group"
      (mouseenter)="toggleDropdown('Programs')"
      (mouseleave)="toggleDropdown('Programs')"
    >
      <span></span>
      <span
        class="text-sm font-semibold leading-5 tracking-normal flex items-center"
      >
        Programs
        <i class="bx bx-chevron-down ml-1"></i>
      </span>
      <span
        class="self-stretch border-b-2 rounded-r rounded-l border-transparent w-2/5 group-hover:border-dark-blue"
        [ngClass]="{ 'custom-active': isActive('/programs') }"
      ></span>

      <div
        *ngIf="activeDropdown === 'Programs'"
        class="absolute top-full left-0 mt-2 w-48 bg-white rounded-md shadow-lg py-2 z-50"
      >
        <a
          *ngFor="let child of menuItems[6].children"
          class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
          [routerLink]="child.route"
          (click)="goTo(child.route)"
        >
          {{ child.label }}
        </a>
      </div>
    </span> -->

    <!-- JF Upskill Menu -->
    <span
      class="flex flex-col justify-between text-base text-dark-blue tracking-normal cursor-pointer md:h-16"
      (click)="openUpskillModal()"
    >
      <span></span>
      <span class="text-sm font-semibold leading-5 tracking-normal"
        >JF Upskill Program</span
      >
      <span
        class="self-stretch border-b-2 rounded-r rounded-l border-transparent w-2/5 group-hover:border-dark-blue"
        [ngClass]="{ 'custom-active': isActive('/jf-upskill') }"
      ></span>
    </span>

    <!-- Talk to Us Button -->
    <button
      class="w-32 h-10 bg-blue hover:bg-blue-700 text-white text-sm py-2 px-4 ml-8 rounded hidden md:block"
      (click)="goTo('contact-us')"
    >
      Talk to us
    </button>
  </div>
</div>

<!-- JF Upskill Modal -->
<div
  *ngIf="isUpskillModalOpen"
  class="fixed inset-0 z-50 overflow-y-auto"
  aria-labelledby="modal-title"
  role="dialog"
  aria-modal="true"
>
  <div
    class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"
  >
    <!-- Background overlay -->
    <div
      class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"
      (click)="closeUpskillModal()"
    ></div>

    <!-- Modal panel -->
    <div
      class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"
    >
      <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
        <div class="flex justify-between items-center mb-6">
          <h3 class="text-2xl font-bold text-gray-900" id="modal-title">
            JF Upskill Program
          </h3>
          <button
            (click)="closeUpskillModal()"
            class="text-gray-500 hover:text-gray-700"
          >
            <i class="bx bx-x text-2xl"></i>
          </button>
        </div>

        <div class="mb-6">
          <p class="text-gray-600 mb-4">
            JF Upskill is the Foundation's flagship teacher training initiative
            designed to enhance the capacity of educators across our network.
            The program focuses on strengthening pedagogical skills, effective
            teaching practices, and classroom management; core components that
            directly impact student learning and overall education quality.
          </p>
          <p class="text-gray-600">
            Through structured modules, expert-led workshops, and continuous
            feedback, JF Upskill empowers teachers to deliver high-impact
            learning experiences, adapt to diverse learner needs, and implement
            strategies that foster inclusive and engaged classrooms.
          </p>
        </div>

        <form
          [formGroup]="subscriptionForm"
          (ngSubmit)="onSubmit()"
          class="space-y-4"
        >
          <div>
            <label
              for="teacherName"
              class="block text-sm font-medium text-gray-700"
            >
              Teacher's Name
            </label>
            <input
              type="text"
              id="teacherName"
              formControlName="teacherName"
              class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"
              placeholder="Enter your full name"
            />
          </div>

          <div>
            <label
              for="schoolName"
              class="block text-sm font-medium text-gray-700"
            >
              School Name
            </label>
            <input
              type="text"
              id="schoolName"
              formControlName="schoolName"
              class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"
              placeholder="Enter your school name"
            />
          </div>

          <div>
            <label
              for="teachingLevel"
              class="block text-sm font-medium text-gray-700"
            >
              Class/Grades/Levels
            </label>
            <input
              type="text"
              id="teachingLevel"
              formControlName="teachingLevel"
              class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"
              placeholder="e.g., Grade 1-3, Primary, Secondary"
            />
          </div>

          <div>
            <label
              for="numberOfLearners"
              class="block text-sm font-medium text-gray-700"
            >
              Number of Learners
            </label>
            <input
              type="number"
              id="numberOfLearners"
              formControlName="numberOfLearners"
              class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"
              placeholder="Enter number of learners"
            />
          </div>

          <div>
            <label
              for="yearsOfExperience"
              class="block text-sm font-medium text-gray-700"
            >
              Years of Teaching Experience
            </label>
            <input
              type="number"
              id="yearsOfExperience"
              formControlName="yearsOfExperience"
              class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"
              placeholder="Enter years of experience"
            />
          </div>

          <div class="flex justify-end space-x-3 mt-6">
            <button
              type="button"
              (click)="closeUpskillModal()"
              class="px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"
            >
              Cancel
            </button>
            <button
              type="submit"
              [disabled]="!subscriptionForm.valid"
              class="px-4 py-2 text-sm font-medium text-white bg-blue rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"
            >
              Subscribe
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- Mobile Menu Overlay -->
<div *ngIf="isMenuOpen" class="fixed inset-0 bg-white z-50 md:hidden">
  <div class="flex flex-col h-full">
    <!-- Mobile Menu Header -->
    <div class="flex justify-between items-center p-4 border-b">
      <div class="flex items-center">
        <img
          src="assets/images/logos/jf-logo.png"
          alt="Logo"
          class="h-16 w-16"
        />
        <div class="flex flex-col ml-2">
          <span class="font-sans text-lg font-black text-black">FIGHAVEN</span>
          <span class="font-sans text-xs font-black text-blue">FOUNDATION</span>
        </div>
      </div>
      <button class="text-dark-blue focus:outline-none" (click)="toggleMenu()">
        <i class="bx bx-x bx-md"></i>
      </button>
    </div>

    <!-- Mobile Menu Links -->
    <div class="flex flex-col p-4 space-y-4">
      <a
        *ngFor="let item of menuItems"
        class="text-dark-blue text-base font-semibold py-2"
        [routerLink]="item.route"
        (click)="toggleMenu()"
        [class.text-black]="isActive(item.route)"
      >
        {{ item.label }}
      </a>

      <!-- Mobile Talk to Us Button -->
      <button
        class="w-full h-10 bg-blue hover:bg-blue-700 text-white text-sm py-2 px-4 rounded mt-4"
        (click)="goTo('contact-us'); toggleMenu()"
      >
        Talk to us
      </button>
    </div>
  </div>
</div>
